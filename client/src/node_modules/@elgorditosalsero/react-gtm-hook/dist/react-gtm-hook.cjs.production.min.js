"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react"),n=(e=t)&&"object"==typeof e&&"default"in e?e.default:e;function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var a=function(e){var t=e.dataLayerName;window[t]?window[t].push(e.data):console.warn("dataLayer "+t+" does not exist, has script be initialized")},i={dataLayer:void 0,dataLayerName:"dataLayer",environment:void 0,nonce:void 0,id:"",injectScript:!0},o=t.createContext(i),c=t.createContext(void 0);function d(e,t){return a({data:t,dataLayerName:null==e?void 0:e.dataLayerName}),e}exports.GTMContext=o,exports.GTMContextDispatch=c,exports.GTMProvider=function(e){var a=e.state,s=e.children,m=t.useReducer(d,r({},i,a)),u=m[0],p=m[1];return t.useEffect((function(){a&&0!=a.injectScript&&function(e){var t,n=(t={dataLayer:e.dataLayer,dataLayerName:e.dataLayerName,environment:e.environment,nonce:e.nonce,id:e.id,customDomain:e.customDomain,customScriptName:e.customScriptName},{getDataLayerScript:function(){var e,n,r=document.createElement("script");return t.nonce&&r.setAttribute("nonce",t.nonce),r.innerHTML=(void 0===(n=t.dataLayerName)&&(n="dataLayer"),"window."+n+" = window."+n+" || [];"+((e=t.dataLayer)?"window."+n+".push("+JSON.stringify(e)+")":"")),r},getNoScript:function(){var e=document.createElement("noscript");return e.innerHTML=function(e,t,n){void 0===n&&(n="https://www.googletagmanager.com");var r="";return t&&(r="&gtm_auth="+t.gtm_auth+"&gtm_preview="+t.gtm_preview+"&gtm_cookies_win=x"),'<iframe src="'+n+"/ns.html?id="+e+r+'" height="0" width="0" style="display:none;visibility:hidden" id="tag-manager"></iframe>'}(t.id,t.environment,t.customDomain),e},getScript:function(){var e=document.createElement("script");return t.nonce&&e.setAttribute("nonce",t.nonce),e.innerHTML=function(e,t,n,r,a){void 0===r&&(r="https://www.googletagmanager.com"),void 0===a&&(a="gtm.js");var i="";return n&&(i='+"&gtm_auth='+n.gtm_auth+"&gtm_preview="+n.gtm_preview+'&gtm_cookies_win=x"'),"\n    (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n      '"+r+"/"+a+"?id='+i+dl"+i+";f.parentNode.insertBefore(j,f);\n    })(window,document,'script','"+e+"','"+t+"');\n  "}(t.dataLayerName,t.id,t.environment,t.customDomain,t.customScriptName),e}}),r=n.getDataLayerScript(),a=n.getScript(),i=n.getNoScript();document.head.insertBefore(r,document.head.childNodes[0]),document.head.insertBefore(a,document.head.childNodes[1]),document.body.insertBefore(i,document.body.childNodes[0])}(r({},u,a))}),[JSON.stringify(a)]),n.createElement(o.Provider,{value:u},n.createElement(c.Provider,{value:p},s))},exports.initialState=i,exports.sendToGTM=a,exports.useGTMDispatch=function(){var e=t.useContext(c);if(void 0===e)throw new Error("dispatchGTMEvent must be used within a GTMProvider");return e};
//# sourceMappingURL=react-gtm-hook.cjs.production.min.js.map
